<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selamat Ulang Tahun Mamah ‚ù§Ô∏è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --soft-pink: #fdf2f2; --deep-pink: #db2777; }
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; background-color: var(--soft-pink); overflow: hidden; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 24px;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
        .floating { animation: float 6s ease-in-out infinite; }

        @keyframes flicker { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.1); opacity: 1; } }
        .flame { animation: flicker 0.5s infinite; }

        .text-gradient {
            background: linear-gradient(to right, #db2777, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
        <div class="absolute top-[10%] left-[5%] text-pink-200 opacity-50 floating text-4xl">‚ù§Ô∏è</div>
        <div class="absolute bottom-[15%] right-[10%] text-pink-200 opacity-50 floating text-5xl" style="animation-delay: 2s;">üå∏</div>
        <div class="absolute top-[40%] right-[5%] text-pink-100 opacity-40 floating text-3xl" style="animation-delay: 4s;">‚ú®</div>
    </div>

    <audio id="sound-pop" src="https://actions.google.com/sounds/v1/cartoon/pop.ogg" preload="auto"></audio>
    <audio id="sound-success" src="https://actions.google.com/sounds/v1/human_voices/applause.ogg" preload="auto"></audio>
    <audio id="bg-music" src="lagu.mp3" preload="auto" loop></audio>

    <div id="main-container" class="relative z-10 flex overflow-x-auto snap-x snap-mandatory h-screen no-scrollbar scroll-smooth">
        
        <section id="slide-1" class="flex-none w-screen h-screen snap-center flex flex-col items-center justify-center text-center p-6">
            <div class="glass-card p-8 md:p-12 max-w-sm w-full shadow-2xl transition-all duration-500">
                <h2 id="intro-text" class="text-lg font-medium mb-10 text-pink-600 tracking-wide">Sentuh untuk merayakan hari ini...</h2>

                <div class="relative w-full h-48 mb-10 flex flex-col-reverse items-center">
                    <div id="layer-1" class="transition-all duration-700 transform translate-y-[-50px] opacity-0 w-48 h-12 bg-pink-400 rounded-xl shadow-lg z-10 border-b-4 border-pink-500"></div>
                    <div id="layer-2" class="transition-all duration-700 transform translate-y-[-50px] opacity-0 w-36 h-10 bg-pink-300 rounded-xl shadow-lg z-20 -mb-2 border-b-4 border-pink-400"></div>
                    <div id="layer-3" class="transition-all duration-700 transform translate-y-[-50px] opacity-0 w-24 h-8 bg-pink-200 rounded-xl shadow-lg z-30 -mb-2 border-b-4 border-pink-300"></div>
                    <div id="candle" class="transition-all duration-1000 transform translate-y-[-50px] opacity-0 z-40 mb-1 flex flex-col items-center">
                        <div class="w-3 h-5 bg-yellow-400 flame rounded-full shadow-[0_0_15px_rgba(251,191,36,1)]"></div>
                        <div class="w-2 h-8 bg-red-400 rounded-full"></div>
                    </div>
                </div>

                <button onclick="buildCake()" id="btn-build" class="w-full bg-gradient-to-r from-pink-500 to-rose-500 text-white py-4 rounded-2xl shadow-xl font-bold transition transform active:scale-95">
                    Susun Kue Kejutan üéÇ
                </button>

                <div id="swipe-instruction" class="hidden animate-pulse mt-6 text-pink-500 font-semibold flex items-center justify-center gap-2">
                    Siap-siap ya... ‚ú®
                </div>
            </div>
        </section>

        <section id="slide-2" class="flex-none w-screen h-screen snap-center flex flex-col items-center justify-center text-center p-6">
            <span class="text-pink-400 font-medium tracking-[0.2em] uppercase text-xs mb-4">A Special Day</span>
            <h1 class="text-5xl md:text-7xl font-serif font-bold mb-6 text-gradient">Selamat Ulang Tahun, Mamah</h1>
            <div class="w-16 h-1 bg-pink-200 mx-auto mb-6 rounded-full"></div>
            <p class="text-gray-500 max-w-xs mx-auto italic leading-relaxed">
                "Zahra bersyukur setiap hari atas kasih sayang dan doa Mamah yang tak pernah putus."
            </p>
        </section>

        <section id="slide-3" class="flex-none w-screen h-screen snap-center flex flex-col items-center justify-center p-6">
            <div class="relative bg-white p-3 shadow-2xl -rotate-2 max-w-[300px] md:max-w-sm rounded-lg border-8 border-white">
                <img src="img1.jpeg" class="w-full h-80 object-cover rounded-sm" alt="Foto Mamah">
                <div class="bg-white pt-6 pb-2 text-center text-gray-700 font-serif italic text-xl">Love You Always, Mah</div>
            </div>
        </section>

        <section id="slide-4" class="flex-none w-screen h-screen snap-center flex flex-col items-center justify-center text-center p-6">
            <div class="glass-card p-10 max-w-sm shadow-2xl">
                <div class="mb-6 text-4xl floating">üíù</div>
                <h2 class="text-3xl font-serif font-bold mb-6 text-gray-800">Doa Zahra</h2>
                <p class="text-gray-600 leading-relaxed mb-10 text-sm italic px-2">
                    Semoga di usia ini Mamah selalu dikelilingi kebahagiaan, kesehatan yang sempurna, dan rezeki yang berkah.
                </p>
                <button onclick="celebrate()" class="w-full bg-gray-900 text-white py-4 rounded-2xl shadow-xl font-bold transition transform active:scale-95">
                    Rayakan Sekarang! ‚ú®
                </button>
                <p class="mt-8 text-[10px] text-gray-400 tracking-[0.3em] uppercase">With Love, Zahra</p>
            </div>
        </section>
    </div>

    <script>
        const container = document.getElementById('main-container');
        const popSound = document.getElementById('sound-pop');
        const successSound = document.getElementById('sound-success');
        const bgMusic = document.getElementById('bg-music');
        let currentLayer = 1;
        let isAudioUnlocked = false;

        function buildCake() {
            // Unlock Audio (Penting untuk mobile)
            if (!isAudioUnlocked) {
                popSound.play().then(() => { popSound.pause(); popSound.currentTime = 0; });
                successSound.play().then(() => { successSound.pause(); successSound.currentTime = 0; });
                bgMusic.play().then(() => { bgMusic.pause(); bgMusic.currentTime = 0; });
                isAudioUnlocked = true;
            }

            if(currentLayer <= 3) {
                popSound.currentTime = 0;
                popSound.play();
                document.getElementById(`layer-${currentLayer}`).classList.replace('opacity-0', 'opacity-100');
                document.getElementById(`layer-${currentLayer}`).classList.replace('translate-y-[-50px]', 'translate-y-0');
                currentLayer++;
            } else if (currentLayer === 4) {
                successSound.play();
                document.getElementById('candle').classList.replace('opacity-0', 'opacity-100');
                document.getElementById('candle').classList.replace('translate-y-[-50px]', 'translate-y-0');
                
                document.getElementById('btn-build').style.display = 'none';
                document.getElementById('swipe-instruction').classList.remove('hidden');
                
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

                // JEDA LALU AUTO SCROLL + PLAY MUSIK
                setTimeout(() => {
                    container.scrollTo({ left: window.innerWidth, behavior: 'smooth' });
                    // PUTAR LAGU HBD DI SINI
                    bgMusic.play().catch(e => console.log("Music play blocked", e));
                }, 2500); 
            }
        }

        function celebrate() {
            var duration = 5 * 1000;
            var end = Date.now() + duration;
            (function frame() {
              confetti({ particleCount: 7, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#db2777', '#f472b6'] });
              confetti({ particleCount: 7, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#db2777', '#f472b6'] });
              if (Date.now() < end) { requestAnimationFrame(frame); }
            }());
        }
    </script>
</body>
</html>